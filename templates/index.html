<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Stock Market Trend Analyzer</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
</head>
<body>
    <div id = 'root'>
    <div style="text-align: center; border: 3px solid blue; background: aqua">
        <h1>
            Stock Market Trend Analyzer:
        </h1>
    </div>
    <br/>
        <form action="" style="text-align: center;">
            <label style="font-size: 15px;" for="ticker">Enter a ticker:</label>
            <input style="width: 125px; height: 20px;" type="text" id="ticker" name="ticker" placeholder="tsla" value= {{ default_ticker }}>
            <label style="font-size: 15px;" for="startDate">Enter a start date (yyyy-mm-dd):</label>
            <input style="width: 125px; height: 20px;" type="date" id="startDate" name="startDate" placeholder = "2021-01-01" value= {{ default_startDate }} max="9999-12-31">
            <label style="font-size: 15px;" for="endDate">Enter an end date (yyyy-mm-dd):</label>
            <input style="width: 125px; height: 20px;" type="date" id="endDate" name="endDate" placeholder = "2022-01-01" value= {{ default_endDate }} max="9999-12-31"><br/><br/>
            <input style="background: black;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 5px;
                        cursor: pointer;
                        font-size: 15px;"
                    type="submit" name = "get_data" value="Get Data!">
          </form>
        <h3 style="text-align: center;">
            {{ msg }}
        </h3>
        <p>
            <canvas id="Graph4", width="1000", height="500"></canvas>
            <script>
                var ctx = document.getElementById("Graph4").getContext("2d");
                var my_chart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: {{ x_graph4 | safe }},
                        datasets: [
                            {
                                label: "Daily Close Price Data",
                                data: {{ y1_graph4 | safe }},
                                fill: false, 
                                borderColor: "chartreuse",
                                lineTension: 0.1 
                            },
                            {
                                label: "20 Day Moving Average",
                                data: {{ y2_graph4 | safe }},
                                fill: false, 
                                borderColor: "red",
                                lineTension: 0.1 
                            },
                            {
                                label: "50 Day Moving Average",
                                data: {{ y3_graph4 | safe }},
                                fill: false, 
                                borderColor: "blue",
                                lineTension: 0.1 
                            }
                        ]
                        
                    },
                    options: {
                        responsive: true
                    }
                });
            </script>
        </p>
        <p>
            <canvas id="Graph1", width="1000", height="500"></canvas>
            <script>
                var ctx = document.getElementById("Graph1").getContext("2d");
                var my_chart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: {{ x_graph1 | safe }},
                        datasets: [
                            {
                                label: "Daily Opening Price Data",
                                data: {{ y1_graph1 | safe }},
                                fill: false, 
                                borderColor: "chartreuse",
                                lineTension: 0.1 
                            },
                            {
                                label: "20 Day Moving Average",
                                data: {{ y2_graph1 | safe }},
                                fill: false, 
                                borderColor: "red",
                                lineTension: 0.1 
                            },
                            {
                                label: "50 Day Moving Average",
                                data: {{ y3_graph1 | safe }},
                                fill: false, 
                                borderColor: "blue",
                                lineTension: 0.1 
                            }
                        ]
                        
                    },
                    options: {
                        responsive: true
                    }
                });
            </script>
        </p>
        <p>
            <canvas id="Graph2", width="1000", height="500"></canvas>
            <script>
                var ctx = document.getElementById("Graph2").getContext("2d");
                var my_chart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: {{ x_graph2 | safe }},
                        datasets: [
                            {
                                label: "Daily High Price Data",
                                data: {{ y1_graph2 | safe }},
                                fill: false, 
                                borderColor: "chartreuse",
                                lineTension: 0.1 
                            },
                            {
                                label: "20 Day Moving Average",
                                data: {{ y2_graph2 | safe }},
                                fill: false, 
                                borderColor: "red",
                                lineTension: 0.1 
                            },
                            {
                                label: "50 Day Moving Average",
                                data: {{ y3_graph2 | safe }},
                                fill: false, 
                                borderColor: "blue",
                                lineTension: 0.1 
                            }
                        ]
                        
                    },
                    options: {
                        responsive: true 
                    }
                });
            </script>
        </p>
        <p>
            <canvas id="Graph3", width="1000", height="500"></canvas>
            <script>
                var ctx = document.getElementById("Graph3").getContext("2d");
                var my_chart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: {{ x_graph3 | safe }},
                        datasets: [
                            {
                                label: "Daily Low Price Data",
                                data: {{ y1_graph3 | safe }},
                                fill: false, 
                                borderColor: "chartreuse",
                                lineTension: 0.1 
                            },
                            {
                                label: "20 Day Moving Average",
                                data: {{ y2_graph3 | safe }},
                                fill: false, 
                                borderColor: "red",
                                lineTension: 0.1 
                            },
                            {
                                label: "50 Day Moving Average",
                                data: {{ y3_graph3 | safe }},
                                fill: false, 
                                borderColor: "blue",
                                lineTension: 0.1 
                            }
                        ]
                        
                    },
                    options: {
                        responsive: true
                    }
                });
            </script>
        </p>
        <p>
            <canvas id="Graph5", width="1000", height="500"></canvas>
            <script>
                var ctx = document.getElementById("Graph5").getContext("2d");
                var my_chart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: {{ x_graph5 | safe }},
                        datasets: [
                            {
                                label: "Daily Adjusted Close Price Data",
                                data: {{ y1_graph5 | safe }},
                                fill: false, 
                                borderColor: "chartreuse",
                                lineTension: 0.1 
                            },
                            {
                                label: "20 Day Moving Average",
                                data: {{ y2_graph5 | safe }},
                                fill: false, 
                                borderColor: "red",
                                lineTension: 0.1 
                            },
                            {
                                label: "50 Day Moving Average",
                                data: {{ y3_graph5 | safe }},
                                fill: false, 
                                borderColor: "blue",
                                lineTension: 0.1 
                            }
                        ]
                        
                    },
                    options: {
                        responsive: true
                    }
                });
            </script>
        </p>
        <p>
            <canvas id="Graph6", width="1000", height="500"></canvas>
            <script>
                var ctx = document.getElementById("Graph6").getContext("2d");
                var my_chart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: {{ x_graph6 | safe }},
                        datasets: [
                            {
                                label: "Daily Volume Price Data",
                                data: {{ y1_graph6 | safe }},
                                fill: false, 
                                borderColor: "chartreuse",
                                lineTension: 0.1 
                            },
                            {
                                label: "20 Day Moving Average",
                                data: {{ y2_graph6 | safe }},
                                fill: false, 
                                borderColor: "red",
                                lineTension: 0.1 
                            },
                            {
                                label: "50 Day Moving Average",
                                data: {{ y3_graph6 | safe }},
                                fill: false, 
                                borderColor: "blue",
                                lineTension: 0.1 
                            }
                        ]
                        
                    },
                    options: {
                        responsive: true
                    }
                });
            </script>
        </p>
    </div>
</body>
</html>




